<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_18) on Sun May 03 20:19:34 CST 2015 -->
<TITLE>
BlockTokenSecretManager (Hadoop-Hdfs 0.22.1-SNAPSHOT API)
</TITLE>

<META NAME="date" CONTENT="2015-05-03">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="BlockTokenSecretManager (Hadoop-Hdfs 0.22.1-SNAPSHOT API)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="跳过导航链接"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>概述</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>软件包</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>类</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/BlockTokenSecretManager.html"><FONT CLASS="NavBarFont1"><B>使用</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>树</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>已过时</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>索引</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>帮助</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../../../org/apache/hadoop/hdfs/security/token/block/BlockTokenIdentifier.html" title="org.apache.hadoop.hdfs.security.token.block 中的类"><B>上一个类</B></A>&nbsp;
&nbsp;<A HREF="../../../../../../../org/apache/hadoop/hdfs/security/token/block/BlockTokenSecretManager.AccessMode.html" title="org.apache.hadoop.hdfs.security.token.block 中的枚举"><B>下一个类</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../../../index.html?org/apache/hadoop/hdfs/security/token/block/BlockTokenSecretManager.html" target="_top"><B>框架</B></A>  &nbsp;
&nbsp;<A HREF="BlockTokenSecretManager.html" target="_top"><B>无框架</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../../../allclasses-noframe.html"><B>所有类</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../../../allclasses-noframe.html"><B>所有类</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  摘要：&nbsp;<A HREF="#nested_class_summary">嵌套</A>&nbsp;|&nbsp;<A HREF="#field_summary">字段</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">构造方法</A>&nbsp;|&nbsp;<A HREF="#method_summary">方法</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
详细信息：&nbsp;<A HREF="#field_detail">字段</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">构造方法</A>&nbsp;|&nbsp;<A HREF="#method_detail">方法</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
org.apache.hadoop.hdfs.security.token.block</FONT>
<BR>
类 BlockTokenSecretManager</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../../../../../resources/inherit.gif" ALT="继承者 ">org.apache.hadoop.security.token.SecretManager&lt;<A HREF="../../../../../../../org/apache/hadoop/hdfs/security/token/block/BlockTokenIdentifier.html" title="org.apache.hadoop.hdfs.security.token.block 中的类">BlockTokenIdentifier</A>&gt;
      <IMG SRC="../../../../../../../resources/inherit.gif" ALT="继承者 "><B>org.apache.hadoop.hdfs.security.token.block.BlockTokenSecretManager</B>
</PRE>
<HR>
<DL>
<DT><PRE><FONT SIZE="-1">@InterfaceAudience.Private
</FONT>public class <B>BlockTokenSecretManager</B><DT>extends org.apache.hadoop.security.token.SecretManager&lt;<A HREF="../../../../../../../org/apache/hadoop/hdfs/security/token/block/BlockTokenIdentifier.html" title="org.apache.hadoop.hdfs.security.token.block 中的类">BlockTokenIdentifier</A>&gt;</DL>
</PRE>

<P>
BlockTokenSecretManager can be instantiated in 2 modes, master mode and slave
 mode. Master can generate new block keys and export block keys to slaves,
 while slaves can only import and use block keys received from master. Both
 master and slave can generate and verify block tokens. Typically, master mode
 is used by NN and slave mode is used by DN.
<P>

<P>
<HR>

<P>
<!-- ======== NESTED CLASS SUMMARY ======== -->

<A NAME="nested_class_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>嵌套类摘要</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;class</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../org/apache/hadoop/hdfs/security/token/block/BlockTokenSecretManager.AccessMode.html" title="org.apache.hadoop.hdfs.security.token.block 中的枚举">BlockTokenSecretManager.AccessMode</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;<A NAME="nested_classes_inherited_from_class_org.apache.hadoop.security.token.SecretManager"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>从类 org.apache.hadoop.security.token.SecretManager 继承的嵌套类/接口</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>org.apache.hadoop.security.token.SecretManager.InvalidToken</CODE></TD>
</TR>
</TABLE>
&nbsp;
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>字段摘要</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;org.apache.hadoop.security.token.Token&lt;<A HREF="../../../../../../../org/apache/hadoop/hdfs/security/token/block/BlockTokenIdentifier.html" title="org.apache.hadoop.hdfs.security.token.block 中的类">BlockTokenIdentifier</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../org/apache/hadoop/hdfs/security/token/block/BlockTokenSecretManager.html#DUMMY_TOKEN">DUMMY_TOKEN</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;org.apache.commons.logging.Log</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../org/apache/hadoop/hdfs/security/token/block/BlockTokenSecretManager.html#LOG">LOG</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>构造方法摘要</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../../../../org/apache/hadoop/hdfs/security/token/block/BlockTokenSecretManager.html#BlockTokenSecretManager(boolean, long, long)">BlockTokenSecretManager</A></B>(boolean&nbsp;isMaster,
                        long&nbsp;keyUpdateInterval,
                        long&nbsp;tokenLifetime)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Constructor</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>方法摘要</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../org/apache/hadoop/hdfs/security/token/block/BlockTokenSecretManager.html#checkAccess(org.apache.hadoop.hdfs.security.token.block.BlockTokenIdentifier, java.lang.String, org.apache.hadoop.hdfs.protocol.Block, org.apache.hadoop.hdfs.security.token.block.BlockTokenSecretManager.AccessMode)">checkAccess</A></B>(<A HREF="../../../../../../../org/apache/hadoop/hdfs/security/token/block/BlockTokenIdentifier.html" title="org.apache.hadoop.hdfs.security.token.block 中的类">BlockTokenIdentifier</A>&nbsp;id,
            java.lang.String&nbsp;userId,
            <A HREF="../../../../../../../org/apache/hadoop/hdfs/protocol/Block.html" title="org.apache.hadoop.hdfs.protocol 中的类">Block</A>&nbsp;block,
            <A HREF="../../../../../../../org/apache/hadoop/hdfs/security/token/block/BlockTokenSecretManager.AccessMode.html" title="org.apache.hadoop.hdfs.security.token.block 中的枚举">BlockTokenSecretManager.AccessMode</A>&nbsp;mode)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Check if access should be allowed. userID is not checked if null.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../org/apache/hadoop/hdfs/security/token/block/BlockTokenSecretManager.html#checkAccess(org.apache.hadoop.security.token.Token, java.lang.String, org.apache.hadoop.hdfs.protocol.Block, org.apache.hadoop.hdfs.security.token.block.BlockTokenSecretManager.AccessMode)">checkAccess</A></B>(org.apache.hadoop.security.token.Token&lt;<A HREF="../../../../../../../org/apache/hadoop/hdfs/security/token/block/BlockTokenIdentifier.html" title="org.apache.hadoop.hdfs.security.token.block 中的类">BlockTokenIdentifier</A>&gt;&nbsp;token,
            java.lang.String&nbsp;userId,
            <A HREF="../../../../../../../org/apache/hadoop/hdfs/protocol/Block.html" title="org.apache.hadoop.hdfs.protocol 中的类">Block</A>&nbsp;block,
            <A HREF="../../../../../../../org/apache/hadoop/hdfs/security/token/block/BlockTokenSecretManager.AccessMode.html" title="org.apache.hadoop.hdfs.security.token.block 中的枚举">BlockTokenSecretManager.AccessMode</A>&nbsp;mode)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Check if access should be allowed. userID is not checked if null</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../../../org/apache/hadoop/hdfs/security/token/block/BlockTokenIdentifier.html" title="org.apache.hadoop.hdfs.security.token.block 中的类">BlockTokenIdentifier</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../org/apache/hadoop/hdfs/security/token/block/BlockTokenSecretManager.html#createIdentifier()">createIdentifier</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Create an empty block token identifier</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;byte[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../org/apache/hadoop/hdfs/security/token/block/BlockTokenSecretManager.html#createPassword(org.apache.hadoop.hdfs.security.token.block.BlockTokenIdentifier)">createPassword</A></B>(<A HREF="../../../../../../../org/apache/hadoop/hdfs/security/token/block/BlockTokenIdentifier.html" title="org.apache.hadoop.hdfs.security.token.block 中的类">BlockTokenIdentifier</A>&nbsp;identifier)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Create a new password/secret for the given block token identifier.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../../../org/apache/hadoop/hdfs/security/token/block/ExportedBlockKeys.html" title="org.apache.hadoop.hdfs.security.token.block 中的类">ExportedBlockKeys</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../org/apache/hadoop/hdfs/security/token/block/BlockTokenSecretManager.html#exportKeys()">exportKeys</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Export block keys, only to be used in master mode</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;org.apache.hadoop.security.token.Token&lt;<A HREF="../../../../../../../org/apache/hadoop/hdfs/security/token/block/BlockTokenIdentifier.html" title="org.apache.hadoop.hdfs.security.token.block 中的类">BlockTokenIdentifier</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../org/apache/hadoop/hdfs/security/token/block/BlockTokenSecretManager.html#generateToken(org.apache.hadoop.hdfs.protocol.Block, java.util.EnumSet)">generateToken</A></B>(<A HREF="../../../../../../../org/apache/hadoop/hdfs/protocol/Block.html" title="org.apache.hadoop.hdfs.protocol 中的类">Block</A>&nbsp;block,
              java.util.EnumSet&lt;<A HREF="../../../../../../../org/apache/hadoop/hdfs/security/token/block/BlockTokenSecretManager.AccessMode.html" title="org.apache.hadoop.hdfs.security.token.block 中的枚举">BlockTokenSecretManager.AccessMode</A>&gt;&nbsp;modes)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Generate an block token for current user</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;org.apache.hadoop.security.token.Token&lt;<A HREF="../../../../../../../org/apache/hadoop/hdfs/security/token/block/BlockTokenIdentifier.html" title="org.apache.hadoop.hdfs.security.token.block 中的类">BlockTokenIdentifier</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../org/apache/hadoop/hdfs/security/token/block/BlockTokenSecretManager.html#generateToken(java.lang.String, org.apache.hadoop.hdfs.protocol.Block, java.util.EnumSet)">generateToken</A></B>(java.lang.String&nbsp;userId,
              <A HREF="../../../../../../../org/apache/hadoop/hdfs/protocol/Block.html" title="org.apache.hadoop.hdfs.protocol 中的类">Block</A>&nbsp;block,
              java.util.EnumSet&lt;<A HREF="../../../../../../../org/apache/hadoop/hdfs/security/token/block/BlockTokenSecretManager.AccessMode.html" title="org.apache.hadoop.hdfs.security.token.block 中的枚举">BlockTokenSecretManager.AccessMode</A>&gt;&nbsp;modes)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Generate a block token for a specified user</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;byte[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../org/apache/hadoop/hdfs/security/token/block/BlockTokenSecretManager.html#retrievePassword(org.apache.hadoop.hdfs.security.token.block.BlockTokenIdentifier)">retrievePassword</A></B>(<A HREF="../../../../../../../org/apache/hadoop/hdfs/security/token/block/BlockTokenIdentifier.html" title="org.apache.hadoop.hdfs.security.token.block 中的类">BlockTokenIdentifier</A>&nbsp;identifier)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Look up the token password/secret for the given block token identifier.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../org/apache/hadoop/hdfs/security/token/block/BlockTokenSecretManager.html#setKeys(org.apache.hadoop.hdfs.security.token.block.ExportedBlockKeys)">setKeys</A></B>(<A HREF="../../../../../../../org/apache/hadoop/hdfs/security/token/block/ExportedBlockKeys.html" title="org.apache.hadoop.hdfs.security.token.block 中的类">ExportedBlockKeys</A>&nbsp;exportedKeys)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set block keys, only to be used in slave mode</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../org/apache/hadoop/hdfs/security/token/block/BlockTokenSecretManager.html#setTokenLifetime(long)">setTokenLifetime</A></B>(long&nbsp;tokenLifetime)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;set token lifetime.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../org/apache/hadoop/hdfs/security/token/block/BlockTokenSecretManager.html#updateKeys()">updateKeys</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Update block keys, only to be used in master mode</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_org.apache.hadoop.security.token.SecretManager"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>从类 org.apache.hadoop.security.token.SecretManager 继承的方法</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>createPassword, createSecretKey, generateSecret</CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>从类 java.lang.Object 继承的方法</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>字段详细信息</B></FONT></TH>
</TR>
</TABLE>

<A NAME="LOG"><!-- --></A><H3>
LOG</H3>
<PRE>
public static final org.apache.commons.logging.Log <B>LOG</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="DUMMY_TOKEN"><!-- --></A><H3>
DUMMY_TOKEN</H3>
<PRE>
public static final org.apache.hadoop.security.token.Token&lt;<A HREF="../../../../../../../org/apache/hadoop/hdfs/security/token/block/BlockTokenIdentifier.html" title="org.apache.hadoop.hdfs.security.token.block 中的类">BlockTokenIdentifier</A>&gt; <B>DUMMY_TOKEN</B></PRE>
<DL>
<DL>
</DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>构造方法详细信息</B></FONT></TH>
</TR>
</TABLE>

<A NAME="BlockTokenSecretManager(boolean, long, long)"><!-- --></A><H3>
BlockTokenSecretManager</H3>
<PRE>
public <B>BlockTokenSecretManager</B>(boolean&nbsp;isMaster,
                               long&nbsp;keyUpdateInterval,
                               long&nbsp;tokenLifetime)
                        throws java.io.IOException</PRE>
<DL>
<DD>Constructor
<P>
<DL>
<DT><B>参数：</B><DD><CODE>isMaster</CODE> - <DD><CODE>keyUpdateInterval</CODE> - <DD><CODE>tokenLifetime</CODE> - 
<DT><B>抛出：</B>
<DD><CODE>java.io.IOException</CODE></DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>方法详细信息</B></FONT></TH>
</TR>
</TABLE>

<A NAME="exportKeys()"><!-- --></A><H3>
exportKeys</H3>
<PRE>
public <A HREF="../../../../../../../org/apache/hadoop/hdfs/security/token/block/ExportedBlockKeys.html" title="org.apache.hadoop.hdfs.security.token.block 中的类">ExportedBlockKeys</A> <B>exportKeys</B>()</PRE>
<DL>
<DD>Export block keys, only to be used in master mode
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setKeys(org.apache.hadoop.hdfs.security.token.block.ExportedBlockKeys)"><!-- --></A><H3>
setKeys</H3>
<PRE>
public void <B>setKeys</B>(<A HREF="../../../../../../../org/apache/hadoop/hdfs/security/token/block/ExportedBlockKeys.html" title="org.apache.hadoop.hdfs.security.token.block 中的类">ExportedBlockKeys</A>&nbsp;exportedKeys)
             throws java.io.IOException</PRE>
<DL>
<DD>Set block keys, only to be used in slave mode
<P>
<DD><DL>

<DT><B>抛出：</B>
<DD><CODE>java.io.IOException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="updateKeys()"><!-- --></A><H3>
updateKeys</H3>
<PRE>
public void <B>updateKeys</B>()
                throws java.io.IOException</PRE>
<DL>
<DD>Update block keys, only to be used in master mode
<P>
<DD><DL>

<DT><B>抛出：</B>
<DD><CODE>java.io.IOException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="generateToken(org.apache.hadoop.hdfs.protocol.Block, java.util.EnumSet)"><!-- --></A><H3>
generateToken</H3>
<PRE>
public org.apache.hadoop.security.token.Token&lt;<A HREF="../../../../../../../org/apache/hadoop/hdfs/security/token/block/BlockTokenIdentifier.html" title="org.apache.hadoop.hdfs.security.token.block 中的类">BlockTokenIdentifier</A>&gt; <B>generateToken</B>(<A HREF="../../../../../../../org/apache/hadoop/hdfs/protocol/Block.html" title="org.apache.hadoop.hdfs.protocol 中的类">Block</A>&nbsp;block,
                                                                                  java.util.EnumSet&lt;<A HREF="../../../../../../../org/apache/hadoop/hdfs/security/token/block/BlockTokenSecretManager.AccessMode.html" title="org.apache.hadoop.hdfs.security.token.block 中的枚举">BlockTokenSecretManager.AccessMode</A>&gt;&nbsp;modes)
                                                                           throws java.io.IOException</PRE>
<DL>
<DD>Generate an block token for current user
<P>
<DD><DL>

<DT><B>抛出：</B>
<DD><CODE>java.io.IOException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="generateToken(java.lang.String, org.apache.hadoop.hdfs.protocol.Block, java.util.EnumSet)"><!-- --></A><H3>
generateToken</H3>
<PRE>
public org.apache.hadoop.security.token.Token&lt;<A HREF="../../../../../../../org/apache/hadoop/hdfs/security/token/block/BlockTokenIdentifier.html" title="org.apache.hadoop.hdfs.security.token.block 中的类">BlockTokenIdentifier</A>&gt; <B>generateToken</B>(java.lang.String&nbsp;userId,
                                                                                  <A HREF="../../../../../../../org/apache/hadoop/hdfs/protocol/Block.html" title="org.apache.hadoop.hdfs.protocol 中的类">Block</A>&nbsp;block,
                                                                                  java.util.EnumSet&lt;<A HREF="../../../../../../../org/apache/hadoop/hdfs/security/token/block/BlockTokenSecretManager.AccessMode.html" title="org.apache.hadoop.hdfs.security.token.block 中的枚举">BlockTokenSecretManager.AccessMode</A>&gt;&nbsp;modes)
                                                                           throws java.io.IOException</PRE>
<DL>
<DD>Generate a block token for a specified user
<P>
<DD><DL>

<DT><B>抛出：</B>
<DD><CODE>java.io.IOException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="checkAccess(org.apache.hadoop.hdfs.security.token.block.BlockTokenIdentifier, java.lang.String, org.apache.hadoop.hdfs.protocol.Block, org.apache.hadoop.hdfs.security.token.block.BlockTokenSecretManager.AccessMode)"><!-- --></A><H3>
checkAccess</H3>
<PRE>
public void <B>checkAccess</B>(<A HREF="../../../../../../../org/apache/hadoop/hdfs/security/token/block/BlockTokenIdentifier.html" title="org.apache.hadoop.hdfs.security.token.block 中的类">BlockTokenIdentifier</A>&nbsp;id,
                        java.lang.String&nbsp;userId,
                        <A HREF="../../../../../../../org/apache/hadoop/hdfs/protocol/Block.html" title="org.apache.hadoop.hdfs.protocol 中的类">Block</A>&nbsp;block,
                        <A HREF="../../../../../../../org/apache/hadoop/hdfs/security/token/block/BlockTokenSecretManager.AccessMode.html" title="org.apache.hadoop.hdfs.security.token.block 中的枚举">BlockTokenSecretManager.AccessMode</A>&nbsp;mode)
                 throws org.apache.hadoop.security.token.SecretManager.InvalidToken</PRE>
<DL>
<DD>Check if access should be allowed. userID is not checked if null. This
 method doesn't check if token password is correct. It should be used only
 when token password has already been verified (e.g., in the RPC layer).
<P>
<DD><DL>

<DT><B>抛出：</B>
<DD><CODE>org.apache.hadoop.security.token.SecretManager.InvalidToken</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="checkAccess(org.apache.hadoop.security.token.Token, java.lang.String, org.apache.hadoop.hdfs.protocol.Block, org.apache.hadoop.hdfs.security.token.block.BlockTokenSecretManager.AccessMode)"><!-- --></A><H3>
checkAccess</H3>
<PRE>
public void <B>checkAccess</B>(org.apache.hadoop.security.token.Token&lt;<A HREF="../../../../../../../org/apache/hadoop/hdfs/security/token/block/BlockTokenIdentifier.html" title="org.apache.hadoop.hdfs.security.token.block 中的类">BlockTokenIdentifier</A>&gt;&nbsp;token,
                        java.lang.String&nbsp;userId,
                        <A HREF="../../../../../../../org/apache/hadoop/hdfs/protocol/Block.html" title="org.apache.hadoop.hdfs.protocol 中的类">Block</A>&nbsp;block,
                        <A HREF="../../../../../../../org/apache/hadoop/hdfs/security/token/block/BlockTokenSecretManager.AccessMode.html" title="org.apache.hadoop.hdfs.security.token.block 中的枚举">BlockTokenSecretManager.AccessMode</A>&nbsp;mode)
                 throws org.apache.hadoop.security.token.SecretManager.InvalidToken</PRE>
<DL>
<DD>Check if access should be allowed. userID is not checked if null
<P>
<DD><DL>

<DT><B>抛出：</B>
<DD><CODE>org.apache.hadoop.security.token.SecretManager.InvalidToken</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="setTokenLifetime(long)"><!-- --></A><H3>
setTokenLifetime</H3>
<PRE>
public void <B>setTokenLifetime</B>(long&nbsp;tokenLifetime)</PRE>
<DL>
<DD>set token lifetime.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="createIdentifier()"><!-- --></A><H3>
createIdentifier</H3>
<PRE>
public <A HREF="../../../../../../../org/apache/hadoop/hdfs/security/token/block/BlockTokenIdentifier.html" title="org.apache.hadoop.hdfs.security.token.block 中的类">BlockTokenIdentifier</A> <B>createIdentifier</B>()</PRE>
<DL>
<DD>Create an empty block token identifier
<P>
<DD><DL>
<DT><B>指定者：</B><DD>类 <CODE>org.apache.hadoop.security.token.SecretManager&lt;<A HREF="../../../../../../../org/apache/hadoop/hdfs/security/token/block/BlockTokenIdentifier.html" title="org.apache.hadoop.hdfs.security.token.block 中的类">BlockTokenIdentifier</A>&gt;</CODE> 中的 <CODE>createIdentifier</CODE></DL>
</DD>
<DD><DL>

<DT><B>返回：</B><DD>a newly created empty block token identifier</DL>
</DD>
</DL>
<HR>

<A NAME="createPassword(org.apache.hadoop.hdfs.security.token.block.BlockTokenIdentifier)"><!-- --></A><H3>
createPassword</H3>
<PRE>
protected byte[] <B>createPassword</B>(<A HREF="../../../../../../../org/apache/hadoop/hdfs/security/token/block/BlockTokenIdentifier.html" title="org.apache.hadoop.hdfs.security.token.block 中的类">BlockTokenIdentifier</A>&nbsp;identifier)</PRE>
<DL>
<DD>Create a new password/secret for the given block token identifier.
<P>
<DD><DL>
<DT><B>指定者：</B><DD>类 <CODE>org.apache.hadoop.security.token.SecretManager&lt;<A HREF="../../../../../../../org/apache/hadoop/hdfs/security/token/block/BlockTokenIdentifier.html" title="org.apache.hadoop.hdfs.security.token.block 中的类">BlockTokenIdentifier</A>&gt;</CODE> 中的 <CODE>createPassword</CODE></DL>
</DD>
<DD><DL>
<DT><B>参数：</B><DD><CODE>identifier</CODE> - the block token identifier
<DT><B>返回：</B><DD>token password/secret</DL>
</DD>
</DL>
<HR>

<A NAME="retrievePassword(org.apache.hadoop.hdfs.security.token.block.BlockTokenIdentifier)"><!-- --></A><H3>
retrievePassword</H3>
<PRE>
public byte[] <B>retrievePassword</B>(<A HREF="../../../../../../../org/apache/hadoop/hdfs/security/token/block/BlockTokenIdentifier.html" title="org.apache.hadoop.hdfs.security.token.block 中的类">BlockTokenIdentifier</A>&nbsp;identifier)
                        throws org.apache.hadoop.security.token.SecretManager.InvalidToken</PRE>
<DL>
<DD>Look up the token password/secret for the given block token identifier.
<P>
<DD><DL>
<DT><B>指定者：</B><DD>类 <CODE>org.apache.hadoop.security.token.SecretManager&lt;<A HREF="../../../../../../../org/apache/hadoop/hdfs/security/token/block/BlockTokenIdentifier.html" title="org.apache.hadoop.hdfs.security.token.block 中的类">BlockTokenIdentifier</A>&gt;</CODE> 中的 <CODE>retrievePassword</CODE></DL>
</DD>
<DD><DL>
<DT><B>参数：</B><DD><CODE>identifier</CODE> - the block token identifier to look up
<DT><B>返回：</B><DD>token password/secret as byte[]
<DT><B>抛出：</B>
<DD><CODE>InvalidToken</CODE>
<DD><CODE>org.apache.hadoop.security.token.SecretManager.InvalidToken</CODE></DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="跳过导航链接"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>概述</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>软件包</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>类</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/BlockTokenSecretManager.html"><FONT CLASS="NavBarFont1"><B>使用</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>树</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>已过时</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>索引</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>帮助</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../../../org/apache/hadoop/hdfs/security/token/block/BlockTokenIdentifier.html" title="org.apache.hadoop.hdfs.security.token.block 中的类"><B>上一个类</B></A>&nbsp;
&nbsp;<A HREF="../../../../../../../org/apache/hadoop/hdfs/security/token/block/BlockTokenSecretManager.AccessMode.html" title="org.apache.hadoop.hdfs.security.token.block 中的枚举"><B>下一个类</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../../../index.html?org/apache/hadoop/hdfs/security/token/block/BlockTokenSecretManager.html" target="_top"><B>框架</B></A>  &nbsp;
&nbsp;<A HREF="BlockTokenSecretManager.html" target="_top"><B>无框架</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../../../allclasses-noframe.html"><B>所有类</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../../../allclasses-noframe.html"><B>所有类</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  摘要：&nbsp;<A HREF="#nested_class_summary">嵌套</A>&nbsp;|&nbsp;<A HREF="#field_summary">字段</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">构造方法</A>&nbsp;|&nbsp;<A HREF="#method_summary">方法</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
详细信息：&nbsp;<A HREF="#field_detail">字段</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">构造方法</A>&nbsp;|&nbsp;<A HREF="#method_detail">方法</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
Copyright &copy; 2009 The Apache Software Foundation
</BODY>
</HTML>
